<div class="termine-edit">
  <h2>Termin: {{title}}</h2>
  <form [formGroup]="form" autocomplete="off" (ngSubmit)="onSubmit()">
    <div class="form-group row">
      <label for="mydatum" class="col-sm-2 col-form-label">Datum:</label>
      <div class="col-sm-3">
        <input type="text" class="form-control" id="mydatum"
               formControlName="DatumBeginn"
               bsDatepicker [bsConfig]="datePickerConfig"
               [bsValue]="DatumBeginn"
               [value]="DatumBeginn" />
      </div>
      ...
      <div class="col-sm-3">
        <input type="text" class="form-control"
               formControlName="DatumEnde"
               bsDatepicker [bsConfig]="datePickerConfig"
               [bsValue]="DatumEnde"
               [value]="DatumEnde" />
      </div>
    </div>

    <div *ngIf="selGruppen.length > 0" >
      <div class="form-group row">
        <label for="idGruppe" class="col-sm-2 col-form-label">Gruppe:</label>
        <div class="col-sm-3">
          <select id="idGruppe" formControlName="IdGruppe" required class="form-control"
                  (change)="onChangeGruppe($event.currentTarget.value)">
            <option *ngFor="let gruppe of selGruppen" [value]="gruppe.Id"  >
              {{gruppe.Id}}  {{gruppe.Code}} {{gruppe.Bezeichnung}}
            </option>
          </select>
        </div>
      </div>
    </div>
    <div *ngIf="selTeilnehmer.length > 0" >
      <div class="form-group row">
        <label for="idTeilnehmer" class="col-sm-2 col-form-label">Teilnehmer:</label>
        <div class="col-sm-3">
          <select id="idTeilnehmer" formControlName="IdTeilnehmer" required class="form-control">
            <option *ngFor="let teilnehmer of selTeilnehmer" [value]="teilnehmer.Id"  >
              {{teilnehmer.Id}}  {{teilnehmer.Vorname}} {{teilnehmer.Nachname}}
            </option>
          </select>
        </div>
      </div>
    </div>
    <div *ngIf="selAktivitaeten.length > 0" >
      <div class="form-group row">
        <label for="idAktivitaet" class="col-sm-2 col-form-label">Aktivität:</label>
        <div class="col-sm-3">
          <select id="idAktivitaet" formControlName="IdAktivitaet" required class="form-control"
                  (change)="onChangeAktivitaet($event.currentTarget.value)">
            <option *ngFor="let akt of selAktivitaeten" [value]="akt.Id"  >
              {{akt.Id}}  {{akt.Code}} {{akt.Bezeichnung}}
            </option>
          </select>
        </div>
      </div>
    </div>

    <div class="input-group row">
      <label for="ganzertag" class="col-sm-2">Ganztägig:</label>
      <div class="input-group-prepend col-sm-3">
        <input id="ganzertag" type="checkbox" formControlName="GanzerTag" (change)="onClickGanzerTag($event)" />
      </div>
    </div>

    <div *ngIf="!GanzerTag == true" >
      <div class="form-group row">
        <label for="zeitBeginn" class="col-sm-2 col-form-label">Beginn:</label>
        <div class="col-sm-3">
          <input class="form-control" type="time" [value]="ZeitBeginn" id="zeitBeginn"
                 formControlName="ZeitBeginn"/>
        </div>
        ...
        <div class="col-sm-3">
          <input class="form-control" type="time" [value]="ZeitEnde" id="zeitEnde"
                 formControlName="ZeitEnde"/>
        </div>
      </div>
    </div>

    <div class="form-group row">
      <label for="hinweis" class="col-sm-2 col-form-label">Hinweis:</label>
      <div class="col-sm-3">
        <input type="text" id="hinweis"
               formControlName="Hinweis"
               placeholder="Hinweis eingeben..."
               class="form-control" />
      </div>
    </div>

    <div class="form-group commands">
      <button *ngIf="editMode" type="submit"
              [disabled]="form.invalid"
              class="btn btn-sm btn-success">
        <i class="fas fa-save"></i>
        Speichern
      </button>
      <button *ngIf="!editMode" type="submit"
              [disabled]="form.invalid"
              class="btn btn-sm btn-success">
        <i class="fas fa-plus-circle"></i>
        Aktivität erstellen
      </button>

      <button type="submit"
              (click)="onBack()"
              class="btn btn-sm btn-secondary">
        <i class="fas fa-arrow-alt-circle-left"></i>
        Zurück
      </button>
    </div>
    <div class="form-group commands">
      <button id="btnShowDataJson " type="button" (click)="onShowDataJson()"
              class={{showDataJsonBtnClass}} >
        <i class={{showDataJsonBtnIcon}}></i>
        {{showDataJsonTitle}}
      </button>
    </div>
  </form>
</div>
<div *ngIf="showDataJson" class="row">
  <div class="col-xs-12 col-md-12">
    <a>Form-Feldinhalte</a>
    <pre class="code-preview">{{form.value | json}}</pre>
    <a>Auswahl: Gruppen</a>
    <pre class="code-preview">{{selGruppen | json}}</pre>
    <a>Auswahl: Teilnehmer</a>
    <pre class="code-preview">{{selTeilnehmer | json}}</pre>
    <a>Auswahl: Aktivitäten</a>
    <pre class="code-preview">{{selAktivitaeten | json}}</pre>
  </div>
</div>

